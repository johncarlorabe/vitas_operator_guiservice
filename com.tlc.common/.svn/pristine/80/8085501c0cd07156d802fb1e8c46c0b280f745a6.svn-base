package com.tlc.common;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

public class DateFormat{
	private ThreadLocal<java.text.DateFormat> localdateformat;
	
	public DateFormat(final String format){
		localdateformat = new ThreadLocal<java.text.DateFormat>(){
			@Override
			protected java.text.DateFormat initialValue() {
				return new SimpleDateFormat(format);
			}

			@Override
			public java.text.DateFormat get() {
				return super.get();
			}

			@Override
			public void set(java.text.DateFormat paramT) {
				super.set(paramT);
			}

			@Override
			public void remove() {
				super.remove();
			}
		};
	}
	
	public synchronized String format(Date dt){
		return localdateformat.get().format(dt);
	}
	
	public synchronized Date parse(String dt) throws ParseException{
		return localdateformat.get().parse(dt);
	}
}
